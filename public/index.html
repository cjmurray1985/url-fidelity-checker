<!DOCTYPE html>
<html lang="en">
<!-- Note: data-theme="dark" or data-theme="light" will be set by JavaScript -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yahoo Prism: Content Fidelity Analyzer</title>
  <link rel="stylesheet" href="css/theme.css">
  <link rel="stylesheet" href="css/prism-styles.css">
  <link rel="stylesheet" href="css/table-fixes.css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div class="yahoo-logo-bg">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3386.34 3010.5" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd">
      <path d="M0 732.88h645.84l376.07 962.1 380.96-962.1h628.76l-946.8 2277.62H451.98l259.19-603.53L.02 732.88zm2763.84 768.75h-704.26L2684.65 0l701.69.03-622.5 1501.6zm-519.78 143.72c216.09 0 391.25 175.17 391.25 391.22 0 216.06-175.16 391.23-391.25 391.23-216.06 0-391.19-175.17-391.19-391.23 0-216.05 175.16-391.22 391.19-391.22z" fill-rule="nonzero"/>
    </svg>
  </div>
  
  <!-- Theme toggle button -->
  <button class="theme-toggle" aria-label="Toggle dark/light mode">
    <!-- Moon icon (dark mode) -->
    <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </svg>
    <!-- Sun icon (light mode) -->
    <svg class="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </button>
  <div class="prism-flare prism-flare-1"></div>
  <div class="prism-flare prism-flare-2"></div>
  <div class="light-streak streak-1"></div>
  <div class="light-streak streak-2"></div>
  <div class="light-streak streak-3"></div>
  <div class="light-streak streak-4"></div>
  
  <div id="main-content" class="container" role="main" tabindex="-1">
    <div class="input-wrapper">
      <form id="url-form">
        <div class="input-section">
          <label for="url-input" class="visually-hidden">Enter URL to check content fidelity</label>
          <input type="url" id="url-input" placeholder="Enter URL to check content fidelity" required aria-describedby="url-help">
          <button type="submit" id="check-button">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M13.5 19l7-7m0 0l-7-7m7 7H4"></path>
            </svg>
            <span class="visually-hidden">Check URL</span>
          </button>
          <div class="glow" aria-hidden="true"></div>
          <p id="url-help" class="visually-hidden">Enter a full URL including http:// or https://</p>
        </div>
      </form>
      <div id="loading" class="hidden" aria-live="polite" aria-busy="true">
        <div class="spinner"></div>
        <p>Analyzing URL...</p>
      </div>
    </div>
  </div>
  
  <section id="results-section" class="hidden" aria-live="polite" aria-relevant="additions text">
    <div class="result-card" tabindex="-1">
      <h1 class="visually-hidden">URL Check Results</h1>
      <div class="score-container">
        <div class="score-circle" role="meter" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Fidelity Score">
          <span id="fidelity-score">0</span><span>%</span>
        </div>
        <h2>Fidelity Score</h2>
      </div>
      
      <div class="url-info">
        <div class="url-row">
          <span class="url-label">Original URL:</span>
          <a id="original-url" href="#" target="_blank"></a>
        </div>
        <div class="url-row">
          <span class="url-label">Canonical URL:</span>
          <a id="canonical-url" href="#" target="_blank"></a>
        </div>
      </div>
      
      <div id="comparison-details">
        <h3>Comparison Details</h3>
        <div class="comparison-grid">
          <div class="comparison-item">
            <div class="comparison-header">Title</div>
            <div id="title-match" class="comparison-result"></div>
          </div>
          <div class="comparison-item">
            <div class="comparison-header">Description</div>
            <div id="description-match" class="comparison-result"></div>
          </div>
          <div class="comparison-item">
            <div class="comparison-header">Heading Structure</div>
            <div id="headings-match" class="comparison-result"></div>
          </div>
          <div class="comparison-item">
            <div class="comparison-header">Content Volume</div>
            <div id="content-match" class="comparison-result"></div>
          </div>
        </div>
      </div>
      
      <div class="schema-comparison">
        <div class="schema-column">
          <h3>Original Page</h3>
          <ul id="original-stats" class="schema-stats"></ul>
        </div>
        <div class="schema-column">
          <h3>Canonical Page</h3>
          <ul id="canonical-stats" class="schema-stats"></ul>
        </div>
      </div>
      
      <div class="detailed-comparison">
        <h3>Detailed Content Comparison</h3>
        <div class="comparison-table-container">
          <table id="content-comparison-table" class="comparison-table">
            <thead>
              <tr>
                <th>Element</th>
                <th>Original Content</th>
                <th>Canonical Content</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </section>
  
  <section id="error-section" class="hidden" aria-live="assertive" role="alert">
    <div class="error-card" tabindex="-1">
      <h2>Error</h2>
      <p id="error-message"></p>
    </div>
  </section>
  
  <footer>
    <p>Yahoo Prism: Content Fidelity Analyzer &copy; 2025 | Supporting Yahoo's mission to be a trusted guide through the digital wilderness</p>
  </footer>
  
  <script src="js/app.js"></script>
</body>
</html>